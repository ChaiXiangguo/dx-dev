(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-39af7ddc"],{"044f":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-config-page"},[e("LeftOneRightTwo",[e("template",{slot:"left"},[e("CcCbmCmp",{attrs:{lc:{layoutKey:"25ea0022-1683-45fc-bf26-866aa685e4ev"}},on:{"node-click":t.nodeClick}})],1),e("template",{slot:"top"},[e("CcCbmCmp",{attrs:{lc:{layoutKey:"5209b400-579a-4714-82ce-5bb9bd5e7234"},"main-data":t.categoryData}})],1),e("template",{slot:"bottom"},[e("ComponentConfig",t._b({attrs:{"category-data":t.categoryData}},"ComponentConfig",t.$attrs,!1))],1)],2)],1)},o=[],i=(a("da71"),a("d8ab")),l={components:{ComponentConfig:i["default"]},data:function(){return{defaultPercent:21,categoryData:null}},computed:{},mounted:function(){},methods:{nodeClick:function(t){this.categoryData=t.data}}},r=l,s=(a("8574"),a("2877")),c=Object(s["a"])(r,n,o,!1,null,null,null);e["default"]=c.exports},"1c68":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"management-box"},[e("cc-table",{ref:"table",attrs:{pagination:"",data:t.data,total:t.total,page:t.params.page,limit:t.params.limit,"layout-data":t.layoutData},on:{"update:page":function(e){return t.$set(t.params,"page",e)},"update:limit":function(e){return t.$set(t.params,"limit",e)},"on-add":t.addFun,"btns-on-delete":t.deleteFun,pagination:t.getComp}}),e("cc-popout",{ref:"popout",attrs:{"pop-props":t.popParams}})],1)},o=[],i=a("5530"),l=(a("d81d"),a("8039")),r=a("da71"),s={components:{},mixins:[l["default"]],props:{categoryData:{type:Object,default:function(){}}},data:function(){var t=this;this.$createElement;return{popParams:{},layoutData:{column:[{type:"index",label:"#",width:80},{prop:"action",label:"操作",render:function(e,a){return e("div",[e("el-button",{attrs:{type:"text",size:"small"},class:"el-icon-setting",on:{click:function(){return t.configHandle(a)}}},["配置"]),e("el-button",{attrs:{type:"text",size:"small"},class:"el-icon-edit",on:{click:function(){return t.editHandle(a)}}},["编辑"]),e("el-button",{attrs:{type:"text",size:"small"},class:"el-icon-delete",on:{click:function(){return t.deleteHandle(a)}}},["删除"])])}},{prop:"componentName",label:"组件名称",minWidth:160},{prop:"componentType",label:"组件类型",formatter:function(t,e){var a={form:"表单组件",table:"表格组件",tree:"树形控件",search:"搜索组件"};return a[t[e.property]]}},{prop:"layoutKey",label:"组件编号",minWidth:160}],config:{btnsCol:[{type:"primary",label:"新增",key:"add"},{type:"primary",label:"删除",key:"delete"},{type:"primary",label:"导出",key:"download"},{type:"primary",label:"导入",key:"upload"}],showCheckbox:!0}},loading:!1,data:[],total:0,params:{tab:"share",page:1,limit:10},editForm:{},dialogVisible:!1}},watch:{categoryData:{handler:function(t){t&&t.id&&this.getComp()},immediate:!0,deep:!0}},mounted:function(){},methods:{deleteFun:function(t){var e=this;this.$confirm("此操作将永久删除选中的组件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$fetch.delBatch("comp",t.selection.map((function(t){return t.id}))).then((function(t){e.$message({type:"success",message:"删除成功!"}),e.getComp()}))})).catch((function(t){console.log(t),e.$message({type:"info",message:"已取消删除"})}))},editHandle:function(t){var e=this;this.popParams={showFlag:!0,size:"mini",title:"编辑组件",confirmEvent:function(t){Object(r["h"])(Object(i["a"])({},t)).then((function(t){e.getComp()}))},content:{layoutData:this.FormLayoutData,model:t.row,type:"form"}}},deleteHandle:function(t){var e=this;this.$confirm("此操作将永久删除该组件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(r["d"])(t.row.id).then((function(t){e.$message({type:"success",message:"删除成功!"}),e.getComp()}))})).catch((function(t){console.log(t),e.$message({type:"info",message:"已取消删除"})}))},configHandle:function(t){this.$emit("configHandle",{showType:"config",layoutData:t.row})},getComp:function(){var t=this;Object(r["l"])({current:1,size:10,pageCategoryId:this.categoryData.id}).then((function(e){t.data=e.data.records}))},addFun:function(){var t=this;this.popParams={showFlag:!0,size:"mini",title:"新增组件",confirmEvent:function(e){var a={form:'{"formDataList":[],"config":{"hideLabel":false,"labelWidth":"85px","labelPosition":"right","showRequiredAsterisk":true,"showVerificationMessage":true,"size":"medium","labelSuffix":":"}}',search:'{"formDataList":[],"config":{"hideLabel":false,"labelWidth":"85px","labelPosition":"right","showRequiredAsterisk":true,"showVerificationMessage":true,"size":"medium","labelSuffix":":"}}',table:'{"column":[],"config":{"btnsCol":[],"showPaging":false,"limit":20}}',tree:'{"node":[{"expression":"","elemCode":"'+t.$utils.guid()+'","isDefault":true,"items":[]}],"config":{"btnsCol":[]}}'};Object(r["a"])(Object(i["a"])(Object(i["a"])({},e),{},{layoutInfo:a[e.componentType]||"{}",pageCategoryId:t.categoryData.id})).then((function(e){t.getComp()}))},content:{layoutData:this.FormLayoutData,model:{layoutKey:this.$utils.guid(),type:"form"},type:"form"}}},openDialog:function(){},delHandle:function(){}}},c=s,u=(a("7adb"),a("2877")),m=Object(u["a"])(c,n,o,!1,null,null,null);e["default"]=m.exports},"37df":function(t,e,a){},3998:function(t,e,a){},"5e55":function(t,e,a){"use strict";a("a4d7")},"7adb":function(t,e,a){"use strict";a("37df")},8039:function(t,e,a){"use strict";a.r(e),e["default"]={data:function(){return{FormLayoutData:{formDataList:[{prop:"componentType",name:"CcSelect",label:"组件类型",multiple:!1,placeholder:"请选择",value:"form",selections:[{label:"表单组件",value:"form"},{label:"搜索组件",value:"search"},{label:"表格组件",value:"table"},{label:"树形控件",value:"tree"}],rules:{required:{required:!0,message:"请选择组件类型",trigger:"blur"}},makeStyle:{active:!1},style:{},setting:{isRemote:!1,remoteUrl:"",remoteDataPath:"",remoteDataProps:{label:"label",value:"value"}}},{prop:"componentName",name:"CcInput",label:"组件名称",multiple:!1,placeholder:"请选择",value:"",selections:[],rules:{required:{required:!0,message:"请填写组件名称",trigger:"blur"}},makeStyle:{active:!0},style:{},setting:{isRemote:!1,remoteUrl:"",remoteDataPath:"",remoteDataProps:{label:"label",value:"value"}}}],config:{hideLabel:!1,labelWidth:"85px",labelPosition:"right",showRequiredAsterisk:!0,showVerificationMessage:!0,size:"medium",labelSuffix:":"}}}},watch:{}}},8574:function(t,e,a){"use strict";a("3998")},a4d7:function(t,e,a){},d8ab:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ComponentConfig-com"},[e("ComManagement",t._b({on:{configHandle:t.configHandle}},"ComManagement",t.$attrs,!1))],1)},o=[],i=a("1c68"),l={components:{ComManagement:i["default"]},data:function(){return{configData:{},currentCom:"management"}},methods:{configHandle:function(t){this.$router.push({path:"/business/canvas",query:{id:t.layoutData.id,pageCategoryId:t.layoutData.pageCategoryId}})}}},r=l,s=(a("5e55"),a("2877")),c=Object(s["a"])(r,n,o,!1,null,null,null);e["default"]=c.exports}}]);